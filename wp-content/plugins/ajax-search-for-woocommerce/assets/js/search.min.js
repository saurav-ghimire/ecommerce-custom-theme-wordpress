!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(e){"use strict";var t={escapeRegExChars:function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t.setAttribute("unselectable","on"),t},highlight:function(e,s){if(dgwt_wcas.is_premium){var a,o=s.split(/ /),i=!1,n="";if(o){for(a=0,n=o[o.length-1],o=o.sort(function(e,t){return t.length-e.length});a<o.length;a++)if(o[a]&&o[a].length>=1){var r=o[a].replace(/[\^\@]/g,"");if(r.length>0){if(1===r.trim().length&&o[a]!==n)var c="((\\s|^)"+t.escapeRegExChars(r.trim())+"\\s)";else if(1===r.trim().length&&o[a]===n)var c="((\\s|^)"+t.escapeRegExChars(r.trim())+")";else var c="("+t.escapeRegExChars(r.trim())+")";e=e.replace(RegExp(c,"gi"),"^^$1@@"),i=!0}}}i&&(e=(e=e.replace(/\^\^/g,"<strong>")).replace(/@@/g,"</strong>"))}else{var c="("+t.escapeRegExChars(s)+")";e=e.replace(RegExp(c,"gi"),"<strong>$1</strong>")}return e},debounce:function(e,t){var a,o=new Date().getUTCMilliseconds();if(0===s.id.length){s.id=o,e();return}s.id=o,a=setTimeout(function(){if(o!==s.id){clearTimeout(a);return}e(),s.id=""},t)},mouseHoverDebounce:function(t,s,a){var o;o=setTimeout(function(){if(e(s+":hover").length>0)t();else{clearTimeout(o);return}},a)},isTextSelected:function(){var e=!1,t=document.getSelection();return"object"==typeof t&&t.toString().length>0&&(e=!0),e},getActiveInstance:function(){var t,s=e(".dgwt-wcas-search-wrapp.dgwt-wcas-active");return s.length>0&&s.each(function(){var s=e(this).find(".dgwt-wcas-search-input");if("object"==typeof s.data("autocomplete"))return t=s.data("autocomplete"),!1}),t},hashCode:function(e){for(var t=0,s=e.length;s>0;)t=(t<<5)-t+e.charCodeAt(--s)|0;return t<0?-1*t:t},isBrowser:function(e){return -1!==navigator.userAgent.indexOf(e)},isIOS:function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},isIE11:function(){return!!navigator.userAgent.match(/Trident\/7\./)}},s={id:"",callback:null,ajaxSettings:null,object:null},a={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},o=e.noop;function i(t,s){var a=this;a.element=t,a.el=e(t),a.suggestions=[],a.badQueries=[],a.selectedIndex=-1,a.currentValue=a.element.value,a.timeoutId=null,a.cachedResponse={},a.cachedDetails={},a.cachedPrices={},a.detailsRequestsSent=[],a.onChangeTimeout=null,a.onChange=null,a.isLocal=!1,a.suggestionsContainer=null,a.detailsContainer=null,a.autoAligmentprocess=null,a.noSuggestionsContainer=null,a.latestActivateSource="",a.actionTriggerSource="",a.options=e.extend(!0,{},i.defaults,s),a.classes={selected:"dgwt-wcas-suggestion-selected",suggestion:"dgwt-wcas-suggestion",suggestionsContainerOrientTop:"dgwt-wcas-suggestions-wrapp--top",inputFilled:"dgwt-wcas-search-filled",darkenOverlayMounted:"js-dgwt-wcas-search-darkoverl-mounted",fixed:"dgwt-wcas-suggestions-wrapp-fixed"},a.hint=null,a.hintValue="",a.selection=null,a.overlayMobileState="off",a.overlayDarkenedState="off",a.isMouseDownOnSearchElements=!1,a.voiceSearchRecognition=null,a.voiceSearchStarted=null,a.initialize(),a.setOptions(s)}i.utils=t,e.DgwtWcasAutocompleteSearch=i,i.defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,containerDetailsWidth:"auto",showDetailsPanel:!1,showImage:!1,showPrice:!1,showSKU:!1,showDescription:!1,showSaleBadge:!1,showFeaturedBadge:!1,dynamicPrices:!1,saleBadgeText:"sale",featuredBadgeText:"featured",minChars:3,maxHeight:600,dpusbBreakpoint:550,deferRequestBy:0,params:{},formatResult:function e(s,a,o,i){return a&&(o&&(s=t.highlight(s,a)),i.convertHtml)?s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;sup/g,"<sup").replace(/&lt;\/sup/g,"</sup").replace(/sup&gt;/g,"sup>").replace(/&lt;sub/g,"<sub").replace(/&lt;\/sub/g,"</sub").replace(/sub&gt;/g,"sub>").replace(/&lt;br\s?\/?&gt;/g,"<br/>").replace(/&lt;(\/?(strong|b|br|span))&gt;/g,"<$1>").replace(/&lt;(strong|span)\s+class\s*=\s*&quot;([^&]+)&quot;&gt;/g,'<$1 class="$2">'):s},delimiter:null,zIndex:999999999,type:"GET",noCache:!1,isRtl:!1,onSearchStart:o,onSearchComplete:o,onSearchError:o,preserveInput:!1,searchFormClass:"dgwt-wcas-search-wrapp",containerClass:"dgwt-wcas-suggestions-wrapp",containerDetailsClass:"dgwt-wcas-details-wrapp",darkenedOverlayClass:"dgwt-wcas-darkened-overlay",searchInputClass:"dgwt-wcas-search-input",preloaderClass:"dgwt-wcas-preloader",closeTrigger:"dgwt-wcas-close",formClass:"dgwt-wcas-search-form",voiceSearchClass:"dgwt-wcas-voice-search",voiceSearchSupportedClass:"dgwt-wcas-voice-search-supported",voiceSearchActiveClass:"dgwt-wcas-voice-search-active",voiceSearchDisabledClass:"dgwt-wcas-voice-search-disabled",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,isPremium:!1,overlayMobile:!1,preventBadQueries:!0,lookupFilter:function e(t,s,a){return -1!==t.value.toLowerCase().indexOf(a)},paramName:"query",transformResult:function e(t){return"string"==typeof t?JSON.parse(t):t},noSuggestionNotice:"No results",forceFixPosition:!1,positionFixed:!1,debounceWaitMs:400,sendGAEvents:!0,enableGASiteSearchModule:!1,showProductVendor:!1,disableHits:!1,disableSubmit:!1,voiceSearchEnabled:!1,voiceSearchLang:""},i.prototype={initialize:function(){var s=this;s.element.setAttribute("autocomplete","off"),s.options.params=s.applyCustomParams(s.options.params),s.createContainers(),s.registerEventsSearchBar(),s.registerEventsSuggestions(),s.registerEventsDetailsPanel(),s.registerIconHandler(),s.registerFlexibleLayout(),s.initVoiceSearch(),s.fixPosition=function(){s.adjustContainerWidth(),s.visible&&(s.fixPositionSuggestions(),s.canShowDetailsPanel()&&s.fixPositionDetailsPanel()),s.positionOverlayDarkened()},e(window).on("resize.autocomplete",function(){var e=t.getActiveInstance();clearTimeout(window.dgwt_wcas.resizeOnlyOnce),void 0!==e&&(window.dgwt_wcas.resizeOnlyOnce=setTimeout(function(){e.fixPosition()},100))}),e(window).on("scroll.autocomplete",function(){var e=t.getActiveInstance();clearTimeout(window.dgwt_wcas.scrollOnlyOnce),void 0!==e&&(window.dgwt_wcas.scrollOnlyOnce=setTimeout(function(){e.fixPosition()},100))});var a=e(window).width();e(window).on("resize.autocomplete",function(){var t=e(window).width();t!=a&&(s.toggleMobileOverlayMode(),a=t)}),s.isBreakpointReached("mobile-overlay")&&s.activateMobileOverlayMode(),s.hideAfterClickOutsideListener(),s.suggestionsContainer.addClass("js-dgwt-wcas-initialized"),s.detailsContainer&&s.detailsContainer.length>0&&s.detailsContainer.addClass("js-dgwt-wcas-initialized")},createContainers:function(t){var s=this,a=s.options;0==e("."+a.containerClass).length?(s.suggestionsContainer=e(i.utils.createNode(a.containerClass)),s.suggestionsContainer.appendTo(a.appendTo||"body"),s.suggestionsContainer.addClass("woocommerce"),!0===a.showImage&&s.suggestionsContainer.addClass("dgwt-wcas-has-img"),!0===a.showPrice&&s.suggestionsContainer.addClass("dgwt-wcas-has-price"),!0===a.showDescription&&s.suggestionsContainer.addClass("dgwt-wcas-has-desc"),!0===a.showSKU&&s.suggestionsContainer.addClass("dgwt-wcas-has-sku"),!0===a.showHeadings&&s.suggestionsContainer.addClass("dgwt-wcas-has-headings")):s.suggestionsContainer=e("."+s.options.containerClass),s.canShowDetailsPanel()&&(0==e("."+a.containerDetailsClass).length?(s.detailsContainer=e(i.utils.createNode(a.containerDetailsClass)),s.detailsContainer.appendTo(a.appendTo||"body"),s.detailsContainer.addClass("woocommerce")):s.detailsContainer=e("."+a.containerDetailsClass))},registerEventsSearchBar:function(){var t=this;t.el.on("fibosearch/ping",function(){t.el.addClass("fibosearch-pong")}),t.getForm().on("submit.autocomplete",function(s){if(t.options.disableSubmit)return s.preventDefault(),!1;var a=e(this).find("."+t.options.searchInputClass);if(a.length&&0===a.val().length)return s.preventDefault(),!1;t.suggestions.length>0&&e.each(t.suggestions,function(e,a){if(void 0!==a.type&&"product_variation"==a.type)return t.select(e),s.preventDefault(),!1}),t.closeOverlayMobile()}),"complete"===document.readyState?t.positionPreloaderAndMic():e(window).on("load",function(){t.positionPreloaderAndMic()}),t.el.on("keydown.autocomplete",function(e){t.onKeyPress(e)}),t.el.on("keyup.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("blur.autocomplete",function(){t.onBlur()}),t.el.on("focus.autocomplete",function(e){t.onFocus(e)}),t.el.on("change.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("input.autocomplete",function(e){t.onKeyUp(e)})},registerEventsSuggestions:function(){var s="."+this.classes.suggestion;if(!this.getSuggestionsContainer().hasClass("js-dgwt-wcas-initialized")){e(document).on("mouseenter.autocomplete",s,function(){var s=t.getActiveInstance();if(void 0!==s){var a=e(this).data("index"),o=s.canShowDetailsPanel()?100:1;s.selectedIndex!=a&&t.mouseHoverDebounce(function(){s.selectedIndex!==a&&(s.latestActivateSource="mouse",s.getDetails(s.suggestions[a]),s.activate(a))},'.dgwt-wcas-suggestion[data-index="'+a+'"]',o)}});var a=!1;e(document).on("click.autocomplete",s,function(s){if(a)s.preventDefault();else{var o=t.getActiveInstance();o.actionTriggerSource="click",a=!0,setTimeout(function(){a=!1},500),(void 0===s.ctrlKey||!1===s.ctrlKey)&&(o.select(e(this).data("index")),s.preventDefault())}}),e(document).on("mousedown.autocomplete",s,function(s){var o=this;0===s.button&&setTimeout(function(){!a&&t.getActiveInstance().select(e(o).data("index"))},250)}),e("."+this.options.containerClass).on("mousedown.autocomplete",function(e){t.getActiveInstance().isMouseDownOnSearchElements=!0})}},registerEventsDetailsPanel:function(){var s=this.getDetailsContainer();!(!this.canShowDetailsPanel()||s.hasClass("js-dgwt-wcas-initialized"))&&(e(document).on("change.autocomplete",'[name="js-dgwt-wcas-quantity"]',function(t){e(this).closest(".js-dgwt-wcas-pd-addtc").find("[data-quantity]").attr("data-quantity",e(this).val())}),e("."+this.options.containerDetailsClass).on("mousedown.autocomplete",function(e){t.getActiveInstance().isMouseDownOnSearchElements=!0}))},registerIconHandler:function(){var t=this,s=t.getFormWrapper(),a=t.getForm();s.on("click.autocomplete",".js-dgwt-wcas-search-icon-handler",function(e){var o=s.find("."+t.options.searchInputClass);if(s.hasClass("dgwt-wcas-layout-icon-open"))t.hide(),a.hide(!0),s.removeClass("dgwt-wcas-layout-icon-open");else{var i=s.find(".dgwt-wcas-search-icon-arrow");a.hide(),i.hide(),s.addClass("dgwt-wcas-layout-icon-open"),t.positionIconSearchMode(s),a.fadeIn(50,function(){i.show(),t.positionPreloaderAndMic(s);var e=t.currentValue.length;e>0&&o[0].setSelectionRange(e,e),o.focus()}),setTimeout(function(){t.fixPosition()},110)}}),0==e(".js-dgwt-wcas-initialized").length&&e(".js-dgwt-wcas-search-icon-handler").length>0&&e(document).on("click.autocomplete",function(s){if(e(".dgwt-wcas-layout-icon-open").length){var a=e(s.target);a.closest("."+t.options.searchFormClass).length>0||a.closest("."+t.options.containerClass).length>0||a.closest("."+t.options.containerDetailsClass).length>0||t.hideIconModeSearch()}})},registerFlexibleLayout:function(){var t=this,s=e(window).width();e(window).on("resize.autocomplete",function(){var a=e(window).width();a!=s&&(t.reloadFlexibleLayout(),s=a)}),"complete"==document.readyState?t.reloadFlexibleLayout():e(window).on("load.autocomplete",function(){t.reloadFlexibleLayout()})},activateMobileOverlayMode:function(){var e=this,t=e.getFormWrapper();t.hasClass("js-dgwt-wcas-mobile-overlay-enabled")&&!t.find(".js-dgwt-wcas-enable-mobile-form").length&&(t.prepend('<div class="js-dgwt-wcas-enable-mobile-form dgwt-wcas-enable-mobile-form"></div>'),t.addClass("dgwt-wcas-mobile-overlay-trigger-active"),t.find(".js-dgwt-wcas-enable-mobile-form").on("click.autocomplete",function(t){e.options.mobileOverlayDelay>0?setTimeout(function(){e.showMobileOverlay()},e.options.mobileOverlayDelay):e.showMobileOverlay()}))},deactivateMobileOverlayMode:function(){var e=this.getFormWrapper();this.getSuggestionsContainer();var t=e.find(".js-dgwt-wcas-enable-mobile-form");e.hasClass("js-dgwt-wcas-mobile-overlay-enabled")&&t.length&&(this.closeOverlayMobile(),t.remove(),e.removeClass("dgwt-wcas-mobile-overlay-trigger-active"))},toggleMobileOverlayMode:function(){var e=this.getFormWrapper(),t=!1;if(e.hasClass("js-dgwt-wcas-mobile-overlay-enabled")){if(e.find(".js-dgwt-wcas-enable-mobile-form").length&&(t=!0),!t&&this.isBreakpointReached("mobile-overlay")||t&&!this.isBreakpointReached("mobile-overlay")){var s=this.getSuggestionsContainer();this.close(!1),s.length&&s.html(""),this.hideIconModeSearch()}!t&&this.isBreakpointReached("mobile-overlay")&&this.activateMobileOverlayMode(),t&&!this.isBreakpointReached("mobile-overlay")&&this.deactivateMobileOverlayMode()}},showMobileOverlay:function(){var t=this;if("on"!==t.overlayMobileState){t.overlayMobileState="on";var s,a=t.getFormWrapper(),o=t.getSuggestionsContainer(),i="";e("html").addClass("dgwt-wcas-overlay-mobile-on"),e("html").addClass("dgwt-wcas-open-"+t.getSearchStyle()),i+='<div class="js-dgwt-wcas-overlay-mobile dgwt-wcas-overlay-mobile">',i+='<div class="dgwt-wcas-om-bar js-dgwt-wcas-om-bar">',i+='<button class="dgwt-wcas-om-return js-dgwt-wcas-om-return">',"string"==typeof dgwt_wcas.back_icon&&(i+=dgwt_wcas.back_icon),i+="</button>",i+="</div>",i+="</div>",e(t.options.mobileOverlayWrapper).append(i),(s=e(".js-dgwt-wcas-overlay-mobile")).css("zIndex",99999999999),a.after('<span class="js-dgwt-wcas-om-hook"></span>'),a.appendTo(".js-dgwt-wcas-om-bar"),o.appendTo(".js-dgwt-wcas-om-bar"),a.addClass("dgwt-wcas-search-wrapp-mobile"),a.hasClass("dgwt-wcas-has-submit")&&(a.addClass("dgwt-wcas-has-submit-off"),a.removeClass("dgwt-wcas-has-submit")),a.find("."+t.options.searchInputClass).focus(),e(document).on("click.autocomplete",".js-dgwt-wcas-om-return",function(e){t.closeOverlayMobile(s)})}},closeOverlayMobile:function(t){var s=this;if(!e("html").hasClass("dgwt-wcas-overlay-mobile-on")){s.overlayMobileState="off";return}var a=s.getSuggestionsContainer(),o=e(".js-dgwt-wcas-om-bar").find("."+s.options.searchFormClass);o.hasClass("dgwt-wcas-has-submit-off")&&(o.removeClass("dgwt-wcas-has-submit-off"),o.addClass("dgwt-wcas-has-submit")),o.removeClass("dgwt-wcas-search-wrapp-mobile"),e("html").removeClass("dgwt-wcas-overlay-mobile-on"),e("html").removeClass("dgwt-wcas-open-"+s.getSearchStyle()),a.appendTo("body"),a.removeAttr("body-scroll-lock-ignore"),e(".js-dgwt-wcas-om-hook").after(o),e(".js-dgwt-wcas-overlay-mobile").remove(),e(".js-dgwt-wcas-om-hook").remove(),setTimeout(function(){o.find("."+s.options.searchInputClass).val("");var e=o.find(".dgwt-wcas-close");o.length>0&&(e.removeClass("dgwt-wcas-close"),e.html("")),s.hide()},150),s.overlayMobileState="off"},reloadFlexibleLayout:function(){var e=this.getFormWrapper(),t=0;e.hasClass("js-dgwt-wcas-layout-icon-flexible")&&(t=1),e.hasClass("js-dgwt-wcas-layout-icon-flexible-inv")&&(t=2),t>0&&(1===t&&this.isBreakpointReached("search-layout")||2===t&&!this.isBreakpointReached("search-layout")?(e.addClass("js-dgwt-wcas-layout-icon"),e.addClass("dgwt-wcas-layout-icon")):(e.removeClass("js-dgwt-wcas-layout-icon"),e.removeClass("dgwt-wcas-layout-icon")),e.addClass("dgwt-wcas-layout-icon-flexible-loaded"))},onFocus:function(t){var s=this.getFormWrapper();e("."+this.options.searchFormClass).removeClass("dgwt-wcas-active"),s.addClass("dgwt-wcas-active"),e("body").addClass("dgwt-wcas-focused"),s.addClass("dgwt-wcas-search-focused"),0==e(t.target).closest(".dgwt-wcas-search-wrapp-mobile").length&&this.enableOverlayDarkened(),this.fixPosition(),this.el.val().length>=this.options.minChars&&this.onValueChange()},onBlur:function(){var t=this.options,s=this.el.val(),a=this.getQuery(s);e("body").removeClass("dgwt-wcas-focused"),e("."+t.searchFormClass).removeClass("dgwt-wcas-search-focused"),!this.isMouseDownOnSearchElements&&(this.hide(),this.selection&&this.currentValue!==a&&(t.onInvalidateSelection||e.noop).call(this.element))},abortAjax:function(){var e=this;e.currentRequest&&(e.currentRequest.abort(),e.currentRequest=null)},setOptions:function(t){var s=this,a=s.getSuggestionsContainer(),o=e.extend({},s.options,t);s.isLocal=Array.isArray(o.lookup),s.isLocal&&(o.lookup=s.verifySuggestionsFormat(o.lookup)),a.css({"max-height":s.canShowDetailsPanel()?"none":o.maxHeight+"px","z-index":o.zIndex}),s.canShowDetailsPanel()&&s.getDetailsContainer().css({"z-index":o.zIndex-1}),o.onSearchComplete=function(){s.getFormWrapper().removeClass("dgwt-wcas-processing"),s.preloader("hide","form","dgwt-wcas-inner-preloader"),s.showCloseButton()},this.options=o},clearCache:function(){this.cachedResponse={},this.cachedDetails={},this.cachedPrices={},this.badQueries=[]},clear:function(e){e&&this.clearCache(),this.currentValue="",this.suggestions=[]},close:function(e){var t=this.el.closest("."+this.options.searchFormClass).find("."+this.options.searchInputClass),s=this.getFormWrapper();this.hide(),this.clear(!1),this.hideCloseButton(),t.val(""),s.removeClass(this.classes.inputFilled),e&&t.focus()},fixPositionSuggestions:function(){var e=this.getSuggestionsContainer(),t=this.getForm(),s=this.el,a=this.getElementInfo(t),o=this.getElementInfo(s),i={top:o.top+o.height,left:a.left};this.ancestorHasPositionFixed(t)?(i.top=o.topViewPort+o.height,e.addClass(this.classes.fixed)):e.removeClass(this.classes.fixed),this.getSuggestionsContainer().css(i)},fixPositionDetailsPanel:function(){var t=this.getFormWrapper(),s=this.getSuggestionsContainer(),a=this.getDetailsContainer(),o=this.getForm(),i=this.el,n=this.getElementInfo(o),r=this.getElementInfo(i),c={top:r.top+r.height,left:n.left+s.outerWidth(!1)};if(this.ancestorHasPositionFixed(t)?(c.top=r.topViewPort+r.height,a.addClass(this.classes.fixed)):a.removeClass(this.classes.fixed),a.css(c),e("body").removeClass("dgwt-wcas-full-width dgwt-wcas-details-outside dgwt-wcas-details-right dgwt-wcas-details-left dgwt-wcas-details-notfit"),t.outerWidth()>=this.options.dpusbBreakpoint){e("body").addClass("dgwt-wcas-full-width"),!0===this.options.isRtl&&(c.left=n.left+a.outerWidth(!1),s.css("left",c.left),a.css("left",n.left));return}var l=e(window).width(),d=a.outerWidth(),u=a.offset();e("body").addClass("dgwt-wcas-details-outside dgwt-wcas-details-right"),l<u.left+d&&(e("body").removeClass("dgwt-wcas-details-right"),e("body").addClass("dgwt-wcas-details-left"),c.left=s.offset().left-a.outerWidth(!1),a.css("left",c.left),u=a.offset()),u.left<1&&(e("body").removeClass("dgwt-wcas-details-left dgwt-wcas-details-right"),e("body").addClass("dgwt-wcas-details-notfit"))},fixHeight:function(){if(!this.canShowDetailsPanel())return!1;var e=this.getSuggestionsContainer(),t=this.getDetailsContainer();e.css("height","auto"),t.css("height","auto");var s=e.outerHeight(!1),a=t.outerHeight(!1);return e.find(".dgwt-wcas-suggestion:last-child").removeClass("dgwt-wcas-suggestion-no-border-bottom"),(!(s<=340)||!(a<=340))&&(e.find(".dgwt-wcas-suggestion:last-child").addClass("dgwt-wcas-suggestion-no-border-bottom"),a<s&&t.css("height",s+"px"),s<a&&e.css("height",a+"px"),!1)},automaticAlignment:function(){var e=this,t=e.getFormWrapper().find(".dgwt-wcas-search-input"),s=e.getSuggestionsContainer(),a=e.getDetailsContainer();if(null==e.autoAligmentprocess){var o=[t.width(),s.height()];e.canShowDetailsPanel()&&(o[2]=a.height()),e.autoAligmentprocess=setInterval(function(){var i=[t.width(),s.height()];e.canShowDetailsPanel()&&(i[2]=a.height());for(var n=0;n<o.length;n++)if(o[n]!=i[n]){e.fixHeight(),e.fixPosition(),o=i;break}e.canShowDetailsPanel()&&a.find(".dgwt-wcas-details-inner").height()-a.height()>2&&e.fixHeight()},10)}},getElementInfo:function(e){var t,s,a={};return t=e[0].getBoundingClientRect(),s=e.offset(),a.left=s.left,a.top=s.top,a.width=e.outerWidth(!1),a.height=e.outerHeight(!1),a.right=a.left+a.width,a.bottom=a.top+a.height,a.topViewPort=t.top,a.bottomViewPort=t.top+a.height,a},getFormWrapper:function(){return this.el.closest("."+this.options.searchFormClass)},getForm:function(){return this.el.closest("."+this.options.formClass)},getSuggestionsContainer:function(){return e("."+this.options.containerClass)},getDetailsContainer:function(){return e("."+this.options.containerDetailsClass)},scrollDownSuggestions:function(){var e=this.getSuggestionsContainer();e[0].scrollTop=e[0].scrollHeight},isCursorAtEnd:function(){var e,t=this.el.val().length,s=this.element.selectionStart;return"number"==typeof s?s===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)},onKeyPress:function(e){var t=this,s=t.getFormWrapper();if(t.addActiveClassIfMissing(),!t.visible&&e.keyCode===a.DOWN&&t.currentValue){t.suggest();return}if(!t.visible){e.keyCode===a.ESC&&s.hasClass("dgwt-wcas-layout-icon-open")&&t.hideIconModeSearch(),e.keyCode===a.ESC&&t.isMountedOverlayDarkened()&&(t.disableOverlayDarkened(),t.el.blur());return}if((e.ctrlKey||e.metaKey)&&e.keyCode===a.RETURN){t.selectedIndex>-1&&t.openInNewTab(t.selectedIndex);return}switch(e.keyCode){case a.ESC:t.close();break;case a.RIGHT:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case a.TAB:break;case a.RETURN:if(-1===t.selectedIndex){if(t.options.disableSubmit)return!1;t.hide();return}t.actionTriggerSource="enter",t.select(t.selectedIndex);break;case a.UP:t.moveUp();break;case a.DOWN:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()},onKeyUp:function(e){var t=this;switch(e.keyCode){case a.UP:case a.DOWN:return}clearTimeout(t.onChangeTimeout),t.currentValue!==t.el.val()&&(t.findBestHint(),t.options.deferRequestBy>0?t.onChangeTimeout=setTimeout(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())},onValueChange:function(){if(this.ignoreValueChange){this.ignoreValueChange=!1;return}var t=this,s=t.options,a=t.el.val(),o=t.getQuery(a),i=t.getFormWrapper();if(t.selection&&t.currentValue!==o&&(t.selection=null,(s.onInvalidateSelection||e.noop).call(t.element)),clearTimeout(t.onChangeTimeout),t.currentValue=a,t.selectedIndex=-1,s.triggerSelectOnValidInput&&t.isExactMatch(o)){t.select(0);return}o.length>0?i.hasClass(t.classes.inputFilled)||i.addClass(t.classes.inputFilled):i.removeClass(t.classes.inputFilled),o.length<s.minChars?(t.hideCloseButton(),t.hide()):t.getSuggestions(o)},isExactMatch:function(e){var t=this.suggestions;return 1===t.length&&t[0].value.toLowerCase()===e.toLowerCase()},canShowDetailsPanel:function(){var t=this.options.showDetailsPanel;return(768>e(window).width()||"ontouchend"in document)&&(t=!1),t},isBreakpointReached:function(t){var s=0;switch(t){case"search-layout":s=this.options.layoutBreakpoint,this.isSetParam("layout_breakpoint")&&(s=Number.parseInt(this.getParam("layout_breakpoint")));break;case"mobile-overlay":s=this.options.mobileOverlayBreakpoint,this.isSetParam("mobile_overlay_breakpoint")&&(s=Number.parseInt(this.getParam("mobile_overlay_breakpoint")))}return e(window).width()<=s},getQuery:function(t){var s,a=this.options.delimiter;return a?(s=t.split(a),e.trim(s[s.length-1])):t.trim()},getSuggestionsLocal:function(t){var s,a=this.options,o=t.toLowerCase(),i=a.lookupFilter,n=parseInt(a.lookupLimit,10);return s={suggestions:e.grep(a.lookup,function(e){return i(e,t,o)})},n&&s.suggestions.length>n&&(s.suggestions=s.suggestions.slice(0,n)),s},getSuggestions:function(a){var o,i,n,r,c=this,l=c.options,d=l.serviceUrl,u=c.getFormWrapper(),g=c.isActiveIconModeSearch();if(l.params[l.paramName]=a,void 0!==dgwt_wcas.current_lang&&(l.params.l=dgwt_wcas.current_lang),c.preloader("show","form","dgwt-wcas-inner-preloader"),u.addClass("dgwt-wcas-processing"),!1!==l.onSearchStart.call(c.element,l.params)){if(i=l.ignoreParams?null:l.params,e.isFunction(l.lookup)){l.lookup(a,function(e){c.suggestions=e.suggestions,c.suggest(),c.selectFirstSuggestion(e.suggestions),l.onSearchComplete.call(c.element,a,e.suggestions)});return}c.isLocal?o=c.getSuggestionsLocal(a):(e.isFunction(d)&&(d=d.call(c.element,a)),n=d+"?"+e.param(i||{}),o=c.cachedResponse[n]),o&&Array.isArray(o.suggestions)?(c.suggestions=o.suggestions,c.suggest(),c.selectFirstSuggestion(o.suggestions),l.onSearchComplete.call(c.element,a,o.suggestions)):c.isBadQuery(a)?l.onSearchComplete.call(c.element,a,[]):(c.abortAjax(),r={url:d,data:i,type:l.type,dataType:l.dataType},e.extend(r,l.ajaxSettings),s.object=c,s.ajaxSettings=r,t.debounce(function(){var t=s.object,o=s.ajaxSettings;t.currentRequest=e.ajax(o).done(function(e){var s;(!g||t.isActiveIconModeSearch())&&(t.currentRequest=null,void 0!==(s=t.options.transformResult(e,a)).suggestions&&(t.processResponse(s,a,n),t.selectFirstSuggestion(s.suggestions),1===s.suggestions.length&&void 0!==s.suggestions[0].type&&"no-results"===s.suggestions[0].type?t.gaEvent(a,"Autocomplete Search without results"):t.gaEvent(a,"Autocomplete Search with results")),t.fixPosition(),t.options.onSearchComplete.call(t.element,a,s.suggestions),t.updatePrices())}).fail(function(e,s,o){t.options.onSearchError.call(t.element,a,e,s,o)})},l.debounceWaitMs))}},getDetails:function(t){var s=this;if(!s.canShowDetailsPanel())return!1;if(null!=t&&void 0!==t.type&&("string"!=typeof t.type||"more_products"!==t.type)){s.fixHeight(),s.getDetailsContainer();var a,o=s.prepareSuggestionObjectID(t);if(null!=(a=s.cachedDetails[o]))s.detailsPanelSetScene(o),s.fixHeight(),s.fixPosition();else{var i={action:dgwt_wcas.action_result_details,items:[]};if(e.each(s.suggestions,function(e,t){if(void 0!==t.type&&"more_products"!=t.type&&"headline"!=t.type){var a={objectID:s.prepareSuggestionObjectID(t),value:null!=t.value?t.value:""};i.items.push(a)}}),s.detailsPanelClearScene(),s.preloader("show","details",""),-1!=e.inArray(o,s.detailsRequestsSent))return;s.detailsRequestsSent.push(o),e.ajax({data:i,type:"post",url:dgwt_wcas.ajax_details_endpoint,success:function(e){var t="string"==typeof e?JSON.parse(e):e;if(void 0!==t.items)for(var a=0;a<t.items.length;a++){var o=t.items[a].objectID;s.cachedDetails[o]={html:t.items[a].html},s.detailsPanelAddToScene(o),void 0!==t.items[a].price&&t.items[a].price.length>0&&(s.cachedPrices[o]=t.items[a].price)}s.preloader("hide","details","");var i=s.prepareSuggestionObjectID(s.suggestions[s.selectedIndex]);null!=s.cachedDetails[i]?s.detailsPanelSetScene(i):s.detailsPanelClearScene(),s.fixPosition(),s.fixHeight(),s.updatePrices(!0)},error:function(e,t){s.preloader("hide","details",""),s.detailsPanelClearScene(),s.fixPosition(),s.fixHeight()}})}e(document).trigger("dgwtWcasDetailsPanelLoaded",s)}},updatePrices:function(t){var s,a,o=this,i=[];if(o.options.showPrice&&o.options.dynamicPrices&&0!=o.suggestions.length){for(s=0;s<o.suggestions.length;s++)if(void 0!==o.suggestions[s].type&&("product"==o.suggestions[s].type||"product_variation"==o.suggestions[s].type)){var n="product__"+o.suggestions[s].post_id;void 0!==o.cachedPrices[n]?o.updatePrice(s,o.cachedPrices[n]):(o.applyPreloaderForPrice(s),i.push(o.suggestions[s].post_id))}if(!t&&i.length>0){var r={action:void 0===dgwt_wcas.action_get_prices?"dgwt_wcas_get_prices":dgwt_wcas.action_get_prices,items:i};e.ajax({data:r,type:"post",url:dgwt_wcas.ajax_prices_endpoint,success:function(e){if(void 0!==e.success&&e.success&&e.data.length>0)for(s=0;s<e.data.length;s++){var t=e.data[s].id,i=e.data[s].price;if(o.suggestions.length>0){for(a=0;a<o.suggestions.length;a++)if(void 0!==o.suggestions[a].type&&("product"==o.suggestions[a].type||"product_variation"==o.suggestions[a].type)&&o.suggestions[a].post_id==t){var n="product__"+t;o.cachedPrices[n]=i,o.updatePrice(a,i)}}}},error:function(e,t){}})}}},updatePrice:function(t,s){var a=this;if(void 0!==a.suggestions[t]){a.suggestions[t].price=s;var o=e(".dgwt-wcas-suggestions-wrapp").find('[data-index="'+t+'"] .dgwt-wcas-sp');o.length&&o.html(s)}},applyCustomParams:function(e){if("object"==typeof dgwt_wcas.custom_params){var t=dgwt_wcas.custom_params;for(var s in t)e[s]=t[s]}var a=this.el.data("custom-params");if("object"==typeof a)for(var s in a)e[s]=a[s];return e},isSetParam:function(e){return void 0!==this.options.params[e]},getParam:function(e){return this.isSetParam(e)?this.options.params[e]:""},applyPreloaderForPrice:function(t){if(void 0!==this.suggestions[t]){var s=e(".dgwt-wcas-suggestions-wrapp").find('[data-index="'+t+'"] .dgwt-wcas-sp');s.length&&s.html('<div class="dgwt-wcas-preloader-price"><div class="dgwt-wcas-preloader-price-inner"> <div></div><div></div><div></div></div></div>')}},prepareSuggestionObjectID:function(e){var t="";return void 0!==e&&void 0!==e.type&&(null!=e.post_id&&(t=e.type+"__"+e.post_id,"product_variation"===e.type&&(t+="__"+e.variation_id),void 0!==e.post_type&&(t=e.type+"__"+e.post_id+"__"+e.post_type)),null!=e.term_id&&null!=e.taxonomy&&(t=e.type+"__"+e.term_id+"__"+e.taxonomy)),t},detailsPanelSetScene:function(e){var s=this.getDetailsContainer(),a=t.hashCode(e),o=s.find('.dgwt-wcas-details-inner[data-object="'+a+'"]');o.length&&(this.preloader("hide","details",""),this.detailsPanelClearScene(),o.addClass("dgwt-wcas-details-inner-active"))},detailsPanelAddToScene:function(e){var s=this.getDetailsContainer(),a=this.cachedDetails[e],o=t.hashCode(e),i="";void 0!==a&&"string"==typeof a.html&&(i=a.html.replace("<div ",'<div data-object="'+o+'" ')),0==s.find('.dgwt-wcas-details-inner[data-object="'+o+'"]').length&&s.append(i)},detailsPanelClearScene:function(){var e=this.getDetailsContainer().find(".dgwt-wcas-details-inner");e.length&&e.removeClass("dgwt-wcas-details-inner-active")},selectFirstSuggestion:function(t){var s=this,a=0,o=!1;if(s.canShowDetailsPanel())"undefined"!=t&&t.length>0&&e.each(s.suggestions,function(e,t){if(void 0!==t.type&&"more_products"!=t.type&&"headline"!=t.type&&"no-results"!=t.type)return a=e,!1;(void 0===t.type||"no-results"===t.type)&&(o=!0)}),!o&&(s.latestActivateSource="system",s.getDetails(t[a]),s.activate(a))},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,s=t.length;s--;)if(0===e.indexOf(t[s]))return!0;return!1},hide:function(t){var s=this,a=s.getSuggestionsContainer(),o=s.getDetailsContainer();e.isFunction(s.options.onHide)&&s.visible&&s.options.onHide.call(s.element,container),s.visible=!1,s.selectedIndex=-1,clearTimeout(s.onChangeTimeout),a.hide(),a.removeClass(s.classes.suggestionsContainerOrientTop),a.removeClass(s.classes.fixed),s.canShowDetailsPanel()&&(o.hide(),o.removeClass(s.classes.fixed)),e("body").removeClass("dgwt-wcas-open"),e("html").hasClass("dgwt-wcas-overlay-mobile-on")||e("html").removeClass("dgwt-wcas-open-"+s.getSearchStyle()),e("body").removeClass("dgwt-wcas-block-scroll"),e("body").removeClass("dgwt-wcas-is-details"),e("body").removeClass("dgwt-wcas-full-width"),e("body").removeClass("dgwt-wcas-nores"),e("body").removeClass("dgwt-wcas-details-outside"),e("body").removeClass("dgwt-wcas-details-right"),e("body").removeClass("dgwt-wcas-details-left"),null!=s.autoAligmentprocess&&(clearInterval(s.autoAligmentprocess),s.autoAligmentprocess=null),s.isMouseDownOnSearchElements=!1,"boolean"==typeof t&&t&&(s.hideCloseButton(),s.currentValue="",s.suggestions=[]),s.signalHint(null)},positionIconSearchMode:function(t){var s=-20,a=this.getForm(),o=a.width(),i=e(window).width(),n=t[0].getBoundingClientRect().left;s=Math.max(s=Math.floor(-1*(o*((n+10)/i))),-1*n),a.css({left:s+"px"})},isActiveIconModeSearch:function(){var t=!1;return e(".dgwt-wcas-layout-icon-open").length>0&&(t=!0),t},hideIconModeSearch:function(){this.isActiveIconModeSearch()&&!t.isTextSelected()&&e(".dgwt-wcas-layout-icon-open").removeClass("dgwt-wcas-layout-icon-open")},hideAfterClickOutsideListener:function(){var t=this;"ontouchend"in document||e(document).mouseup(function(s){if(t.visible){var a=!(e(s.target).closest("."+t.options.searchFormClass).length>0||e(s.target).hasClass(t.options.searchFormClass)),o=!(e(s.target).closest("."+t.options.containerClass).length>0||e(s.target).hasClass(t.options.containerClass));if(t.canShowDetailsPanel()){var i=!(e(s.target).closest("."+t.options.containerDetailsClass).length>0||e(s.target).hasClass(t.options.containerDetailsClass));a&&o&&i&&t.hide()}else a&&o&&t.hide()}})},suggest:function(){if(!this.suggestions.length){this.hide();return}var t,s=this,a=s.options,o=a.groupBy,i=a.formatResult,n=s.getQuery(s.currentValue),r=s.classes.suggestion,c=s.classes.selected,l=s.getSuggestionsContainer(),d=s.getDetailsContainer(),u=e(s.noSuggestionsContainer),g=a.beforeRender,h="",p=function(e,s){var a=e.data[o];return t===a?"":'<div class="autocomplete-group"><strong>'+(t=a)+"</strong></div>"};if(a.triggerSelectOnValidInput&&s.isExactMatch(n)){s.select(0);return}e("body").removeClass("dgwt-wcas-nores"),e.each(s.suggestions,function(t,c){var l="",d=!1,u="string"==typeof c.url&&c.url.length?c.url:"#";if(o&&(h+=p(c,n,t)),void 0===c.type||"product"!=c.type&&"product_variation"!=c.type){var g,f=r,w="dgwt-wcas-st",v="",m="",b="",y=!0;"product_cat"===c.taxonomy?(f+=" dgwt-wcas-suggestion-tax dgwt-wcas-suggestion-cat",a.showHeadings||(v+='<span class="dgwt-wcas-st--direct-headline">'+dgwt_wcas.labels["tax_"+c.taxonomy]+"</span>"),void 0!==c.breadcrumbs&&c.breadcrumbs&&(b=c.breadcrumbs+" &gt; "+c.value,m+='<span class="dgwt-wcas-st-breadcrumbs"><span class="dgwt-wcas-st-label-in">'+dgwt_wcas.labels.in+" </span>"+c.breadcrumbs+"</span>")):"product_tag"===c.taxonomy?(f+=" dgwt-wcas-suggestion-tax dgwt-wcas-suggestion-tag",a.showHeadings||(v+='<span class="dgwt-wcas-st--direct-headline">'+dgwt_wcas.labels["tax_"+c.taxonomy]+"</span>")):a.isPremium&&c.taxonomy===a.taxonomyBrands?(f+=" dgwt-wcas-suggestion-tax dgwt-wcas-suggestion-brand",a.showHeadings||(v+='<span class="dgwt-wcas-st--direct-headline">'+dgwt_wcas.labels["tax_"+c.taxonomy]+"</span>")):a.isPremium&&"taxonomy"===c.type?(f+=" dgwt-wcas-suggestion-tax dgwt-wcas-suggestion-tax-"+c.taxonomy,a.showHeadings||(v+='<span class="dgwt-wcas-st--direct-headline">'+dgwt_wcas.labels["tax_"+c.taxonomy]+"</span>")):a.isPremium&&"vendor"===c.type?(f+=" dgwt-wcas-suggestion-vendor dgwt-wcas-suggestion-vendor",a.showHeadings||(v+='<span class="dgwt-wcas-st--direct-headline">'+dgwt_wcas.labels.vendor+"</span>")):a.isPremium&&"post"===c.type&&void 0!==c.post_type&&"post"===c.post_type?(f+=" dgwt-wcas-suggestion-pt dgwt-wcas-suggestion-pt-post",a.showHeadings||(v+='<span class="dgwt-wcas-st--direct-headline">'+dgwt_wcas.labels.post+"</span>")):a.isPremium&&"post"===c.type&&void 0!==c.post_type&&"page"===c.post_type?(f+=" dgwt-wcas-suggestion-pt dgwt-wcas-suggestion-pt-page",a.showHeadings||(v+='<span class="dgwt-wcas-st--direct-headline">'+dgwt_wcas.labels.page+"</span>")):"more_products"===c.type?(f+=" js-dgwt-wcas-suggestion-more dgwt-wcas-suggestion-more",w="dgwt-wcas-st-more",c.value=dgwt_wcas.labels.show_more+'<span class="dgwt-wcas-st-more-total"> ('+c.total+")</span>",y=!1):a.showHeadings&&"headline"===c.type?(f+=" js-dgwt-wcas-suggestion-headline dgwt-wcas-suggestion-headline",void 0!==dgwt_wcas.labels[c.value+"_plu"]&&(c.value=dgwt_wcas.labels[c.value+"_plu"]),y=!1):(f+=" dgwt-wcas-suggestion-nores",c.value=dgwt_wcas.labels.no_results,y=!1,s.canShowDetailsPanel()&&s.detailsPanelClearScene(),e("body").addClass("dgwt-wcas-nores")),void 0!==c.image_src&&c.image_src&&(g=!0),b=b.length>0?' title="'+b+'"':"",h+='<a href="'+u+'" class="'+f+'" data-index="'+t+'">',g&&(h+='<span class="dgwt-wcas-si"><img src="'+c.image_src+'" /></span>',h+='<div class="dgwt-wcas-content-wrapp">'),h+="<span"+b+' class="'+w+'">',"vendor"===c.type?(h+='<span class="dgwt-wcas-st-title">'+v+i(c.value,n,y,a)+m+"</span>",c.shop_city&&(h+='<span class="dgwt-wcas-vendor-city"><span> - </span>'+i(c.shop_city,n,!0,a)+"</span>"),void 0!==c.desc&&c.desc&&(h+='<span class="dgwt-wcas-sd">'+i(c.desc,n,!0,a)+"</span>")):h+=v+i(c.value,n,y,a)+m,h+="</span>",h+=g?"</div>":"",h+="</a>"}else{!0===a.showImage&&void 0!==c.thumb_html&&(d=!0);var S="product_variation"===c.type?" dgwt-wcas-suggestion-product-var":"";if(l+=void 0!==c.post_id?'data-post-id="'+c.post_id+'" ':"",l+=void 0!==c.taxonomy?'data-taxonomy="'+c.taxonomy+'" ':"",l+=void 0!==c.term_id?'data-term-id="'+c.term_id+'" ':"",h+='<a href="'+u+'" class="'+r+" dgwt-wcas-suggestion-product"+S+'" data-index="'+t+'" '+l+">",d&&(h+='<span class="dgwt-wcas-si">'+c.thumb_html+"</span>"),h+=d?'<div class="dgwt-wcas-content-wrapp">':"",h+='<div class="dgwt-wcas-st">',void 0!==c.title_before&&c.title_before&&(h+=c.title_before),h+='<span class="dgwt-wcas-st-title">'+i(c.value,n,!0,a)+"</span>",void 0!==c.title_after&&c.title_after&&(h+=c.title_after),!0===a.showSKU&&void 0!==c.sku&&c.sku.length>0&&(h+='<span class="dgwt-wcas-sku">('+dgwt_wcas.labels.sku_label+" "+i(c.sku,n,!0,a)+")</span>"),!0===a.showDescription&&void 0!==c.desc&&c.desc&&(h+='<span class="dgwt-wcas-sd">'+i(c.desc,n,!0,a)+"</span>"),!0===a.showProductVendor&&void 0!==c.vendor&&c.vendor){var C='<span class="dgwt-wcas-product-vendor"><span class="dgwt-wcas-product-vendor-label">'+dgwt_wcas.labels.vendor_sold_by+" </span>"+c.vendor+"</span>";void 0!==c.vendor_url&&c.vendor_url?h+='<span class="dgwt-wcas-product-vendor-link" data-url="'+c.vendor_url+'">'+C+"</span>":h+=C}void 0!==c.content_after&&c.content_after&&(h+=c.content_after),h+="</div>";var $=!0===a.showPrice&&void 0!==c.price,x=void 0!==c.meta_before,_=void 0!==c.meta_after,k=$||x||_;h+=k?'<div class="dgwt-wcas-meta">':"",x&&(h+=c.meta_before),$&&(h+='<span class="dgwt-wcas-sp">'+c.price+"</span>"),_&&(h+=c.meta_after),h+=k?"</div>":"",h+=d?"</div>":"",h+="</a>"}}),this.adjustContainerWidth(),u.detach(),l.html(h),e.isFunction(g)&&g.call(s.element,l,s.suggestions),l.show(),e("body").addClass("dgwt-wcas-open"),e("html").addClass("dgwt-wcas-open-"+s.getSearchStyle()),s.isMouseDownOnSearchElements=!1,s.automaticAlignment(),s.canShowDetailsPanel()&&(e("body").addClass("dgwt-wcas-is-details"),d.show(),s.fixHeight()),a.autoSelectFirst&&(s.selectedIndex=0,l.scrollTop(0),l.children("."+r).first().addClass(c)),s.visible=!0,s.fixPosition(),s.findBestHint()},getSearchStyle(){var t=this.getFormWrapper(),s="solaris";return e(t.attr("class").split(/\s+/)).each(function(e){/dgwt-wcas-style-/i.test(this)&&(s=this.replace(/dgwt-wcas-style-/i,""))}),s},adjustContainerWidth:function(){var e=this.getFormWrapper(),t=this.getSuggestionsContainer(),s=this.getDetailsContainer(),a=this.getForm().outerWidth();if(e.length&&(t.css("width",a+"px"),this.canShowDetailsPanel()&&a>=this.options.dpusbBreakpoint)){var o=0;t.css("width",a/2),s.css("width",a/2),0!=(o=a-(t.outerWidth()+s.outerWidth()))&&s.css("width",s.outerWidth()+o)}},positionPreloaderAndMic:function(t){var s=this,a="object"==typeof t?t.find(".dgwt-wcas-search-submit"):e(".dgwt-wcas-search-submit");a.length>0&&a.each(function(){var t=e(this).closest(".dgwt-wcas-search-wrapp").find(".dgwt-wcas-preloader"),a=e(this).closest(".dgwt-wcas-search-wrapp").hasClass(s.options.voiceSearchSupportedClass),o=e(this).closest(".dgwt-wcas-search-wrapp").find("."+s.options.voiceSearchClass);a?1==dgwt_wcas.is_rtl?(o.css("left",6+e(this).outerWidth()+"px"),t.css("left",46+e(this).outerWidth()+"px")):(o.css("right",e(this).outerWidth()+"px"),t.css("right",40+e(this).outerWidth()+"px")):1==dgwt_wcas.is_rtl?t.css("left",6+e(this).outerWidth()+"px"):t.css("right",e(this).outerWidth()+"px")})},findBestHint:function(){var t=this.el.val().toLowerCase(),s=null;t&&(e.each(this.suggestions,function(e,a){var o=0===a.value.toLowerCase().indexOf(t);return o&&(s=a),!o}),this.signalHint(s))},signalHint:function(t){var s="",a=this;t&&(s=a.currentValue+t.value.substr(a.currentValue.length)),a.hintValue!==s&&(a.hintValue=s,a.hint=t,(this.options.onHint||e.noop)(s))},preloader:function(e,t,s){var a,o,i="dgwt-wcas-preloader-wrapp";if("form"===t){if(1!=dgwt_wcas.show_preloader)return;o=this.getFormWrapper().find(".dgwt-wcas-preloader")}else"details"===t&&(o=this.getDetailsContainer());if(0!=o.length){if("form"===t){"hide"===e?(o.removeClass(s),o.html("")):(o.addClass(s),"string"==typeof dgwt_wcas.preloader_icon&&o.html(dgwt_wcas.preloader_icon));return}var n=o.find("."+i);if("hide"===e){n.length&&n.remove();return}if("show"===e){var r=this.options.isRtl?"-rtl":"";a='<div class="'+(null==s?i:i+" "+s)+'"><img class="dgwt-wcas-placeholder-preloader" src="'+dgwt_wcas.img_url+"placeholder"+r+'.png" /></div>',this.detailsPanelClearScene(),n.length&&n.remove(),o.prepend(a)}}},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?e.map(t,function(e){return{value:e,data:null}}):t},processResponse:function(e,t,s){var a=this,o=a.options;e.suggestions=a.verifySuggestionsFormat(e.suggestions),o.noCache||(a.cachedResponse[s]=e,o.preventBadQueries&&!e.suggestions.length&&a.badQueries.push(t)),t===a.getQuery(a.currentValue)&&(a.suggestions=e.suggestions,a.suggest())},activate:function(t){var s,a=this,o=a.classes.selected,i=a.getSuggestionsContainer(),n=i.find("."+a.classes.suggestion);return(i.find("."+o).removeClass(o),a.selectedIndex=t,-1!==a.selectedIndex&&n.length>a.selectedIndex)?(e(s=n.get(a.selectedIndex)).addClass(o),s):null},selectHint:function(){var t=e.inArray(this.hint,this.suggestions);this.select(t)},select:function(e){!this.options.disableHits&&(this.closeOverlayMobile(),this.hide(),this.onSelect(e))},moveUp:function(){var e=this;if(-1!==e.selectedIndex){if(e.latestActivateSource="key",0===e.selectedIndex){e.getSuggestionsContainer().children("."+e.classes.suggestion).first().removeClass(e.classes.selected),e.selectedIndex=-1,e.ignoreValueChange=!1,e.el.val(e.currentValue),e.findBestHint();return}e.adjustScroll(e.selectedIndex-1,"up")}},moveDown:function(){var e=this;e.selectedIndex!==e.suggestions.length-1&&(e.latestActivateSource="key",e.adjustScroll(e.selectedIndex+1,"down"))},adjustScroll:function(t,s){var a=this;if("headline"===a.suggestions[t].type&&(t="down"===s?t+1:t-1),void 0!==a.suggestions[t]){var o=a.activate(t);if(a.getDetails(a.suggestions[t]),!("more_products"===a.suggestions[t].type||!o||a.canShowDetailsPanel())){var i,n,r,c=a.getSuggestionsContainer(),l=e(o).outerHeight(!1);i=o.offsetTop,r=(n=c.scrollTop())+a.options.maxHeight-l,i<n?c.scrollTop(i):i>r&&c.scrollTop(i-a.options.maxHeight+l),a.options.preserveInput||(a.ignoreValueChange=!0),a.signalHint(null)}}},onSelect:function(t){var s=this,a=s.options.onSelect,o=s.suggestions[t];if(void 0!==o.type&&("more_products"===o.type||"enter"===s.actionTriggerSource&&"key"!=s.latestActivateSource&&"product_variation"!=o.type)){s.el.closest("form").trigger("submit");return}s.currentValue=s.getValue(o.value),s.currentValue===s.el.val()||s.options.preserveInput||s.el.val(s.currentValue.replace(/(<([^>]+)>)/gi," ").replace(/\s\s+/g," ")),o.url.length>0&&(window.location.href=o.url),s.signalHint(null),s.suggestions=[],s.selection=o,e.isFunction(a)&&a.call(s.element,o)},openInNewTab:function(e){var t=this.suggestions[e];t.url.length>0&&window.open(t.url,"_blank").focus()},getValue:function(e){var t,s,a=this.options.delimiter;return a&&1!==(s=(t=this.currentValue).split(a)).length?t.substr(0,t.length-s[s.length-1].length)+e:e},dispose:function(){var t=this.el,s=this.getFormWrapper(),a=this.getSuggestionsContainer(),o=s.find(".js-dgwt-wcas-enable-mobile-form");s.length&&s.find("*").each(function(){e(this).off(".autocomplete")}),t.off("fibosearch/ping"),s.off("click.autocomplete",".js-dgwt-wcas-search-icon-handler"),t.removeData("autocomplete"),e(window).off("resize.autocomplete",this.fixPosition),s.removeClass("dgwt-wcas-active"),this.close(!1),o.length&&o.remove(),a.length&&a.html("")},isMountedOverlayDarkened:function(){var e=this.getFormWrapper(),t=!1;return e.hasClass(this.classes.darkenOverlayMounted)&&(t=!0),t},enableOverlayDarkened:function(){var t,s=this,a=s.options;if(s.isMountedOverlayDarkened()){if((t=s.getFormWrapper()).addClass("dgwt-wcas-search-darkoverl-on"),e("body").addClass("dgwt-wcas-darkoverl-on"),0==e("."+a.darkenedOverlayClass).length){var o='<div class="'+a.darkenedOverlayClass+'"><div></div><div></div><div></div><div></div></div>';e("body").append(o);var i=e("."+s.options.darkenedOverlayClass);s.positionOverlayDarkened(),i.on("click.autocomplete",function(e){s.disableOverlayDarkened()})}s.overlayDarkenedState="on"}},disableOverlayDarkened:function(){var t,s=this,a=s.options;if(s.isMountedOverlayDarkened()){(t=e(".dgwt-wcas-search-darkoverl-on")).length&&t.removeClass("dgwt-wcas-search-darkoverl-on"),e("body").removeClass("dgwt-wcas-darkoverl-on");var o=e("."+a.darkenedOverlayClass);o.length>0&&(o.remove(),s.overlayDarkenedState="off")}},positionOverlayDarkened:function(){var t=this,s=!1,a=e("."+t.options.darkenedOverlayClass);a.length>0&&(t.ancestorHasPositionFixed(t.getFormWrapper())?(s=!0,a.addClass("dgwt-wcas-suggestions-wrapp-fixed")):a.removeClass("dgwt-wcas-suggestions-wrapp-fixed"),a.children("div").each(function(a){t.positionOverlayDarkenedDiv(e(this),a+1,s)}))},positionOverlayDarkenedDiv:function(t,s,a){var o,i,n=this.getFormWrapper();switch(n.hasClass("js-dgwt-wcas-layout-icon")&&(n=this.getForm()),o=this.getElementInfo(n),s){case 1:i={left:"-200px",top:"-200px",width:o.left+200+"px",height:e(document).outerHeight(!1)+200-1+"px"};break;case 2:var r=a?o.topViewPort:o.top;i={left:"-200px",top:"-200px",width:e(window).outerWidth(!1)+200+"px",height:r+200+"px"};break;case 3:i={left:o.left+o.width+"px",top:"-200px",width:e(window).outerWidth(!1)-o.right+"px",height:e(document).outerHeight(!1)+200-1+"px"};break;case 4:var r=a?o.topViewPort:o.top;i={left:"-200px",top:r+o.height+"px",width:e(window).outerWidth(!1)+200+"px",height:e(document).outerHeight(!1)-o.bottom-1+"px"}}i&&t.css(i)},showCloseButton:function(){var e=this,t=void 0!==dgwt_wcas.close_icon?dgwt_wcas.close_icon:"",s=e.getFormWrapper().find("."+e.options.preloaderClass);!(e.el.val().length<e.options.minChars)&&(s.hasClass(e.options.closeTrigger)||s.on("click.autocomplete",function(){e.close(!0)}),s.addClass(e.options.closeTrigger),s.html(t))},hideCloseButton:function(){var e=this.getFormWrapper().find("."+this.options.closeTrigger);e.length&&(e.removeClass(this.options.closeTrigger),e.html("")),e.off("click.autocomplete")},addActiveClassIfMissing:function(){var t=document.activeElement;if("object"==typeof t&&e(t).length&&e(t).hasClass("dgwt-wcas-search-input")){var s=e(t).closest(".dgwt-wcas-search-wrapp");s.length&&!s.hasClass("dgwt-wcas-active")&&s.addClass("dgwt-wcas-active")}},ancestorHasPositionFixed:function(t){var s=t.add(t.parents()),a=!1;return s.each(function(){if("fixed"===e(this).css("position"))return a=!0,!1}),a},gaEvent:function(t,s){var a=!!(window.hasOwnProperty("GoogleAnalyticsObject")&&window.hasOwnProperty(window.GoogleAnalyticsObject))&&window[window.GoogleAnalyticsObject];if(this.options.sendGAEvents)try{if("undefined"!=typeof gtag)gtag("event","autocomplete_search",{event_label:t,event_category:s});else if(!1!==a){var o=a.getAll()[0];o&&o.send({hitType:"event",eventCategory:s,eventAction:"autocomplete_search",eventLabel:t})}}catch(i){}if(this.options.enableGASiteSearchModule)try{if("undefined"!=typeof gtag)gtag("event","page_view",{page_path:"/?s="+encodeURI(t)+"&post_type=product&dgwt_wcas=1"});else if(!1!==a){var n=a.getAll()[0];n&&(n.set("page","/?s="+encodeURI(t)+"&post_type=product&dgwt_wcas=1"),n.send("pageview"))}}catch(r){}e(document).trigger("dgwtWcasGAEvent",{term:t,category:s})},initVoiceSearch:function(){var s=this;if(!s.options.voiceSearchEnabled)return!1;var a=s.getFormWrapper(),o=a.find("."+s.options.searchInputClass),i=a.find("."+s.options.voiceSearchClass),n=!1;if("function"==typeof SpeechRecognition?n=SpeechRecognition:"function"==typeof webkitSpeechRecognition&&(n=webkitSpeechRecognition),!n||t.isBrowser("Chrome")&&t.isIOS())return!1;s.voiceSearchSetState("inactive",i),a.addClass(s.options.voiceSearchSupportedClass),s.voiceSearchRecognition=new n,s.voiceSearchRecognition.lang=s.options.voiceSearchLang,s.voiceSearchRecognition.continuous=!1,s.voiceSearchRecognition.interimResults=!0,s.voiceSearchRecognition.maxAlternatives=1,i.on("click",function(){if(a.hasClass("dgwt-wcas-mobile-overlay-trigger-active")&&!e("html").hasClass("dgwt-wcas-overlay-mobile-on")&&(a.find(".js-dgwt-wcas-enable-mobile-form").click(),a.find("."+s.options.searchInputClass).blur()),s.voiceSearchStarted){s.voiceSearchAbort();return}s.voiceSearchIsInitialized()&&s.voiceSearchAbort(),s.voiceSearchRecognition.start()}),s.voiceSearchRecognition.onstart=function(e){s.voiceSearchSetState("active",i)},s.voiceSearchRecognition.onresult=function(e){let t=e.results[0],a=t[0].transcript;o.val(a),t.isFinal&&(o.trigger("change"),!1 in document&&o.focus(),s.voiceSearchSetState("inactive",i))},s.voiceSearchRecognition.onspeechend=function(){s.voiceSearchSetState("inactive",i),s.voiceSearchRecognition.stop()},s.voiceSearchRecognition.onnomatch=function(e){s.voiceSearchSetState("inactive",i)},s.voiceSearchRecognition.onerror=function(e){switch(e.error){case"aborted":case"no-speech":s.voiceSearchSetState("inactive",i);break;case"network":break;case"not-allowed":case"service-not-allowed":s.voiceSearchSetState("off",i)}}},voiceSearchAbort:function(){var e=this;e.voiceSearchIsInitialized()&&(e.voiceSearchRecognition.abort(),e.voiceSearchStarted=!1)},voiceSearchIsInitialized:function(){return null!==this.voiceSearchRecognition},voiceSearchSetState:function(e,t){var s=this;switch(e){case"active":s.voiceSearchStarted=!0,"string"==typeof dgwt_wcas.voice_search_active_icon&&t.html(dgwt_wcas.voice_search_active_icon);break;case"inactive":s.voiceSearchStarted=!1,"string"==typeof dgwt_wcas.voice_search_inactive_icon&&t.html(dgwt_wcas.voice_search_inactive_icon);break;case"off":s.voiceSearchStarted=!1,"string"==typeof dgwt_wcas.voice_search_disabled_icon&&t.html(dgwt_wcas.voice_search_disabled_icon)}}},e.fn.dgwtWcasAutocomplete=function(t,s){var a="autocomplete";return arguments.length?this.each(function(){var o=e(this),n=o.data(a);"string"==typeof t?n&&"function"==typeof n[t]&&n[t](s):(n&&n.dispose&&n.dispose(),n=new i(this,t),o.data(a,n))}):this.first().data(a)},e.fn.autocomplete||(e.fn.autocomplete=e.fn.dgwtWcasAutocomplete),t.isIE11()&&function(e,t){function s(e,t){var s=arguments.length>2?arguments[2]:[];if(!1===i(e))throw TypeError(Object.prototype.toString.call(e)+"is not a function.");return e.apply(t,s)}function a(e,t,s){Object.defineProperty(e,t,{value:s,writable:!0,enumerable:!1,configurable:!0})}function o(e,t){return e[t]}function i(e){return"function"==typeof e}function n(e,t){return e===t}function r(e){if(null===e||e===t)throw TypeError();return Object(e)}function c(t){switch(typeof t){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";default:return null===t?"null":"Symbol"in e&&(t instanceof e.Symbol||t.constructor===e.Symbol)?"symbol":"object"}}function l(e,t){var s,a;return c(e)===c(t)&&("number"===c(e)?!(!isNaN(e)||!isNaN(t))||1/e==1/0&&1/t==-1/0||1/e==-1/0&&1/t==1/0||e===t:(s=e,s===(a=t)))}function d(e){if("symbol"===c(e))throw TypeError("Cannot convert a Symbol value to a number");var t=Number(e);return isNaN(t)?0:1/t==1/0||1/t==-1/0||t===1/0||t===-1/0?t:(t<0?-1:1)*Math.floor(Math.abs(t))}function u(a){switch(c(a)){case"symbol":throw TypeError("Cannot convert a Symbol value to a string");case"object":return u(function a(o){var n=arguments.length>1?arguments[1]:t;if("object"===c(o)){if(arguments.length<2)var l="default";else n===String?l="string":n===Number&&(l="number");var d="function"==typeof e.Symbol&&"symbol"==typeof e.Symbol.toPrimitive?function e(s,a){var o,n,c=(o=s,n=a,r(o)[n]);if(null!==c&&c!==t){if(!1===i(c))throw TypeError("Method not callable: "+a);return c}}(o,e.Symbol.toPrimitive):t;if(d!==t){var u=s(d,o,[l]);if("object"!==c(u))return u;throw TypeError("Cannot convert exotic object to primitive.")}return"default"===l&&(l="number"),function e(t,a){if("string"===a)var o=["toString","valueOf"];else o=["valueOf","toString"];for(var n=0;n<o.length;++n){var r,l,d=o[n],u=(r=t,r[l=d]);if(i(u)){var g=s(u,t);if("object"!==c(g))return g}}throw TypeError("Cannot convert to primitive.")}(o,l)}return o}(a,String));default:return String(a)}}a(Array.prototype,"includes",function e(t){var s,a,o,i,n,c=r(this),g=(i=(o=c).length,(n=d(i))<=0?0:Math.min(n,9007199254740991));if(0===g)return!1;var h=d(arguments[1]);if(h>=0)var p=h;else(p=g+h)<0&&(p=0);for(;p<g;){if(l(t,(s=c,s[a=u(p)])))return!0;p+=1}return!1}),a(String.prototype,"includes",function s(a){var o=arguments.length>1?arguments[1]:t,i=function e(s){if(null===s||s===t)throw TypeError(Object.prototype.toString.call(s)+" is not coercible to Object.");return s}(this),n=u(i);if(function s(a){if("object"!==c(a))return!1;var o,i,n,r="Symbol"in e&&"match"in e.Symbol?(i=a,i[n=e.Symbol.match]):t;if(r!==t)return Boolean(o=r);try{var l=a.lastIndex;return a.lastIndex=0,RegExp.prototype.exec.call(a),!0}catch(d){}finally{a.lastIndex=l}return!1}(a))throw TypeError("First argument to String.prototype.includes must not be a regular expression");var r=u(a),l=d(o),g=n.length;return -1!==String.prototype.indexOf.call(n,r,Math.min(Math.max(l,0),g))})}("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),e(document).ready(function(){t.isIOS()&&e("html").addClass("dgwt-wcas-is-ios"),window.dgwt_wcas.resizeOnlyOnce=null,window.dgwt_wcas.scrollOnlyOnce=null,window.dgwt_wcas.config={minChars:dgwt_wcas.min_chars,width:dgwt_wcas.sug_width,autoSelectFirst:!1,triggerSelectOnValidInput:!1,serviceUrl:dgwt_wcas.ajax_search_endpoint,paramName:"s",showDetailsPanel:1==dgwt_wcas.show_details_panel,showImage:1==dgwt_wcas.show_images,showPrice:1==dgwt_wcas.show_price,showDescription:1==dgwt_wcas.show_desc,showSKU:1==dgwt_wcas.show_sku,showSaleBadge:1==dgwt_wcas.show_sale_badge,showFeaturedBadge:1==dgwt_wcas.show_featured_badge,dynamicPrices:void 0!==dgwt_wcas.dynamic_prices&&!!dgwt_wcas.dynamic_prices,saleBadgeText:dgwt_wcas.labels.sale_badge,featuredBadgeText:dgwt_wcas.labels.featured_badge,isRtl:1==dgwt_wcas.is_rtl,showHeadings:1==dgwt_wcas.show_headings,isPremium:1==dgwt_wcas.is_premium,taxonomyBrands:dgwt_wcas.taxonomy_brands,layoutBreakpoint:dgwt_wcas.layout_breakpoint,mobileOverlayBreakpoint:dgwt_wcas.mobile_overlay_breakpoint,mobileOverlayWrapper:dgwt_wcas.mobile_overlay_wrapper,mobileOverlayDelay:dgwt_wcas.mobile_overlay_delay,debounceWaitMs:dgwt_wcas.debounce_wait_ms,sendGAEvents:dgwt_wcas.send_ga_events,convertHtml:dgwt_wcas.convert_html,enableGASiteSearchModule:dgwt_wcas.enable_ga_site_search_module,appendTo:void 0!==dgwt_wcas.suggestions_wrapper?dgwt_wcas.suggestions_wrapper:"body",showProductVendor:void 0!==dgwt_wcas.show_product_vendor&&!!dgwt_wcas.show_product_vendor,disableHits:void 0!==dgwt_wcas.disable_hits&&!!dgwt_wcas.disable_hits,disableSubmit:void 0!==dgwt_wcas.disable_submit&&!!dgwt_wcas.disable_submit,voiceSearchEnabled:void 0!==dgwt_wcas.voice_search_enabled&&!!dgwt_wcas.voice_search_enabled,voiceSearchLang:void 0!==dgwt_wcas.voice_search_lang?dgwt_wcas.voice_search_lang:""},e(".dgwt-wcas-search-input").dgwtWcasAutocomplete(window.dgwt_wcas.config)}),({brokenSearchUi:void 0!==dgwt_wcas.fixer.broken_search_ui&&!!dgwt_wcas.fixer.broken_search_ui,brokenSearchUiAjax:void 0!==dgwt_wcas.fixer.broken_search_ui_ajax&&!!dgwt_wcas.fixer.broken_search_ui_ajax,brokenSearchUiHard:void 0!==dgwt_wcas.fixer.broken_search_ui_hard&&!!dgwt_wcas.fixer.broken_search_ui_hard,brokenSearchElementorPopups:void 0!==dgwt_wcas.fixer.broken_search_elementor_popups&&!!dgwt_wcas.fixer.broken_search_elementor_popups,brokenSearchBrowserBackArrow:void 0!==dgwt_wcas.fixer.broken_search_browsers_back_arrow&&!!dgwt_wcas.fixer.broken_search_browsers_back_arrow,forceRefreshCheckout:void 0!==dgwt_wcas.fixer.force_refresh_checkout&&!!dgwt_wcas.fixer.force_refresh_checkout,searchBars:[],init:function(){var t=this;t.brokenSearchUi&&e(document).ready(function(){t.fixBrokenSearchUi()}),t.brokenSearchUiAjax&&t.fixBrokenSearchUiAjax(),t.brokenSearchUiHard&&t.fixBrokenSearchUiHard(),t.brokenSearchElementorPopups&&e(document).ready(function(){t.fixBrokenSearchOnElementorPopupsV1(),t.fixBrokenSearchOnElementorPopupsV2()}),t.brokenSearchBrowserBackArrow&&t.fixbrokenSearchBrowserBackArrow(),t.forceRefreshCheckout&&t.fixforceRefreshCheckout()},fixBrokenSearchUi:function(){var t=this;e(document).ready(function(){setTimeout(function(){t.pullAndReconditionSearchBars()},50)}),e(window).on("load",function(){setTimeout(function(){t.pullAndReconditionSearchBars()},500)})},fixBrokenSearchUiAjax:function(){var t=this;e(document).ajaxSuccess(function(e,s,a){!("string"==typeof a.url&&RegExp("search.php|wc-ajax").test(a.url))&&"string"==typeof s.responseText&&s.responseText.includes("dgwt-wcas-search-input")&&setTimeout(function(){t.pullAndReconditionSearchBars()},500)})},fixBrokenSearchUiHard:function(){var t=this;e(document).ready(function(){0===t.searchBars.length&&t.pullAndReconditionSearchBars(),setInterval(function(){t.pullAndReconditionSearchBars()},1e3)})},fixBrokenSearchOnElementorPopupsV1:function(){var t=this;e(document).on("elementor/popup/show",()=>{setTimeout(function(){t.pullAndReconditionSearchBars()},500)})},fixBrokenSearchOnElementorPopupsV2:function(){var t=this;e(document).ready(function(){void 0!==window.elementorFrontend&&void 0!==window.elementorFrontend.documentsManager&&void 0!==window.elementorFrontend.documentsManager.documents&&e.each(elementorFrontend.documentsManager.documents,function(e,s){void 0!==s.getModal&&s.getModal&&s.getModal().on("show",function(){setTimeout(function(){t.pullAndReconditionSearchBars()},500)})})})},fixforceRefreshCheckout:function(){e(document.body).on("added_to_cart",function(){e(document.body).hasClass("woocommerce-checkout")&&e(".dgwt-wcas-search-input").length>0&&e(document.body).trigger("update_checkout")})},fixbrokenSearchBrowserBackArrow:function(){e(window).on("load",function(){var t=0,s=setInterval(function(){var a=document.activeElement;if("object"==typeof a&&e(a).length&&e(a).hasClass("dgwt-wcas-search-input")){var o=e(a).closest(".dgwt-wcas-search-wrapp");o.length&&!o.hasClass("dgwt-wcas-active")&&(o.addClass("dgwt-wcas-active"),clearInterval(s))}t>10&&clearInterval(s),t++},500)})},pullAndReconditionSearchBars:function(){var t=this,s=e(".dgwt-wcas-search-input"),a=0==t.searchBars.length;s.length>0&&s.each(function(){var s,o=e(this),i=!0;if(t.searchBars.length>0){for(s=0;s<t.searchBars.length;s++)if(o[0]===t.searchBars[s][0]){i=!1;break}}if(i){var n=!1;t.hasUniqueId(o)||(t.makeUniqueID(o),n=!0),a&&t.isInitialized(o)&&!n||t.reinitSearchBar(o),t.searchBars.push(o)}t.hasEvents(o)||t.reinitSearchBar(o)})},hasEvents:function(t){var s=!1;return t.trigger("fibosearch/ping"),t.hasClass("fibosearch-pong")&&(s=!0),e(".fibosearch-pong").removeClass("fibosearch-pong"),s},isInitialized:function(e){return"object"==typeof e.data("autocomplete")},hasUniqueId:function(e){var t=!0;if(this.searchBars.length>0)for(var s=0;s<this.searchBars.length;s++)e.attr("id")===this.searchBars[s].attr("id")&&(t=!1);return t},reinitSearchBar:function(e){"object"==typeof e.data("autocomplete")&&e.data("autocomplete").dispose(),e.dgwtWcasAutocomplete(window.dgwt_wcas.config)},makeUniqueID:function(e){var t=Math.random().toString(36).substring(2,6);t="dgwt-wcas-search-input-"+t,e.attr("id",t),e.closest("form").find("label").attr("for",t)}}).init()});
